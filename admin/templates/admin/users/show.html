{% extends 'admin/master.html' %}

{% block content %}
  <div class="ui segments">
    <div class="ui segment">
      <h1 style="display: inline">{{ user.username }}</h1>
      {% if not user.is_active %}
        <span class="ui red tag label">Banned</span>
      {% endif %}
    </div>
  </div>
  <hr>

  <div class="ui segments">
    <div class="ui segment">
      <p>Comments ({{ user.comments.count }})</p>
      <div class="ui segments">
        {% for comment in user.comments.all %}
          <div class="ui segment raised">
            {% if comment.is_hidden %}
              <span class="ui red ribbon label">Hidden</span>
            {% else %}
              <span class="ui blue ribbon label">Visible</span>
            {% endif %}
            <br>
            <h1 style="display: inline;">{{ comment.user.username }}</h1>&nbsp&nbsp&nbsp
            <small>{{ comment.pub_date }}</small>
            <p>{{ comment.content }}</p>
            <div style="text-align: right">
              <a href="{% url 'admin:comments.toggle_visibility' comment.id %}">
                {% if comment.is_hidden %}
                 <button class="button ui primary">
                  Show
                 </button>
                {% else %}
                 <button class="button ui red">
                  Hide
                 </button>
                {% endif %}
              </a>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
{% endblock %}

